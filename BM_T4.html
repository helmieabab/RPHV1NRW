<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <title>RPH BM T4 - ANDREW ARID</title>
    <style>
        :root { --p: #003366; --bg: #f5f7fa; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); padding: 20px; }
        .setup-box { max-width: 900px; margin: auto; background: #fff; padding: 25px; border-radius: 10px; border-top: 8px solid var(--p); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        .sp-list { border: 1px solid #ccc; max-height: 150px; overflow-y: auto; margin: 10px 0; background: #fff; }
        .sp-row { padding: 8px; cursor: pointer; border-bottom: 1px solid #eee; font-size: 13px; }
        .sp-row:hover { background: #f0f4f8; }
        .selected { background: #e1f5fe; font-weight: bold; border-left: 4px solid #0288d1; }
        .btns { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px; }
        .btn-m { background: var(--p); color: #fff; border: none; padding: 12px; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .btn-p { background: #27ae60; color: #fff; border: none; padding: 12px; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .btn-c { background: #7f8c8d; color: #fff; border: none; padding: 12px; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .rph-paper { width: 210mm; padding: 15mm; margin: 30px auto; background: #fff; border: 1px solid #000; }
        .m-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .m-table td { border: 1px solid #000; padding: 10px; font-size: 13px; vertical-align: top; }
        .label { background: #eee !important; font-weight: bold; width: 30%; }
        @media print { .no-print { display: none; } .rph-paper { margin: 0; border: none; } }
    </style>
</head>
<body>
<div class="setup-box no-print">
    <h2 style="text-align:center;color:var(--p)">RPH BM TAHUN 4</h2>
    <div class="grid-3">
        <input type="date" id="tark" onchange="updDay()">
        <input type="text" id="hari" placeholder="Hari" readonly>
        <select id="mng"></select>
    </div>
    <input type="text" id="masa" placeholder="Masa (cth: 08:00 - 09:00)">
    <input type="text" id="tajuk" placeholder="Tema / Unit / Tajuk" style="margin-top:10px">
    <select id="sk" onchange="loadSP()" style="margin-top:10px">
        <option value="1.1">1.1 Mendengar dan memberi respons</option>
        <option value="2.1">2.1 Asas membaca dan memahami</option>
        <option value="3.1">3.1 Asas menulis</option>
    </select>
    <div class="sp-list" id="splist"></div>
    <textarea id="obj" placeholder="Objektif..." rows="2" style="margin-top:5px"></textarea>
    <textarea id="act" placeholder="Aktiviti..." rows="3" style="margin-top:5px"></textarea>
    <textarea id="ref" placeholder="Refleksi..." rows="2" style="margin-top:5px"></textarea>
    <div class="btns">
        <button class="btn-m" onclick="gen()">JANA RPH</button>
        <button class="btn-p" onclick="window.print()">CETAK RPH</button>
        <button class="btn-c" onclick="location.reload()">KOSONGKAN</button>
    </div>
</div>
<div id="print-zone"></div>
<script>
    const data = {"1.1":["1.1.1 Mendengar dan menyebut semula.","1.1.2 Memberi respons terhadap arahan."],"2.1":["2.1.1 Membaca petikan dengan sebutan betul."],"3.1":["3.1.1 Menulis ayat secara mekanis."]};
    let sel = [];
    for(let i=1;i<=42;i++) document.getElementById('mng').innerHTML += `<option value="${i}">Minggu ${i}</option>`;
    function updDay() { const d = new Date(document.getElementById('tark').value); document.getElementById('hari').value = ["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"][d.getDay()]; }
    function loadSP() {
        const k = document.getElementById('sk').value; const z = document.getElementById('splist'); z.innerHTML = ""; sel = [];
        data[k].forEach(s => { let d = document.createElement('div'); d.className = 'sp-row'; d.innerText = s; d.onclick = function() { this.classList.toggle('selected'); if(this.classList.contains('selected')) sel.push(s); else sel = sel.filter(x => x!==s); }; z.appendChild(d); });
    }
    loadSP();
    function gen() {
        const h = `
        <div class="rph-paper">
            <h3 style="text-align:center">RANCANGAN PENGAJARAN HARIAN BM T4</h3>
            <table class="m-table">
                <tr><td>TARIKH: ${document.getElementById('tark').value}</td><td>HARI: ${document.getElementById('hari').value}</td><td>MINGGU: ${document.getElementById('mng').value}</td></tr>
                <tr><td colspan="2">MASA: ${document.getElementById('masa').value}</td><td>GURU: ANDREW ARID</td></tr>
            </table>
            <table class="m-table">
                <tr><td class="label">TAJUK</td><td>${document.getElementById('tajuk').value}</td></tr>
                <tr><td class="label">STANDARD PEMBELAJARAN</td><td>${sel.join('<br>')}</td></tr>
                <tr><td class="label">OBJEKTIF</td><td>${document.getElementById('obj').value.replace(/\n/g,'<br>')}</td></tr>
                <tr><td class="label">AKTIVITI</td><td>${document.getElementById('act').value.replace(/\n/g,'<br>')}</td></tr>
                <tr><td class="label">REFLEKSI</td><td>${document.getElementById('ref').value.replace(/\n/g,'<br>')}</td></tr>
            </table>
        </div>`;
        document.getElementById('print-zone').innerHTML += h;
    }
</script>
</body>
</html>

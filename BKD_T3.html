<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPH BKD T3 - ANDREW ARID</title>
    <style>
        :root { --primary: #d35400; --success: #27ae60; --ai: #8e44ad; }
        body { font-family: 'Segoe UI', sans-serif; background: #fdf2e9; padding: 15px; margin: 0; }
        .container { max-width: 1100px; margin: auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 2px solid #333; margin-bottom: 25px; padding-bottom: 10px; }
        .header h1 { margin: 0; font-size: 22px; text-transform: uppercase; }
        .header p { margin: 5px 0; font-weight: bold; color: #555; }
        .input-section { background: #fef5e7; padding: 20px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; }
        .grid-flex { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; }
        .grid-flex div { flex: 1; min-width: 200px; }
        label { font-weight: bold; font-size: 13px; color: var(--primary); display: block; margin-bottom: 5px; }
        select, input, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; box-sizing: border-box; }
        .sp-table-wrapper { max-height: 200px; overflow-y: auto; border: 1px solid #ccc; border-radius: 5px; background: white; margin-top: 5px; }
        .sp-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .sp-table tr { cursor: pointer; border-bottom: 1px solid #eee; transition: 0.2s; }
        .sp-table tr:hover { background: #f1f1f1; }
        .sp-table td { padding: 12px; }
        .selected-row { background: #ffeaa7 !important; font-weight: bold; border-left: 5px solid var(--primary); }
        .ai-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 20px; }
        .ai-box { border: 1px solid #d1d1d1; padding: 15px; border-radius: 8px; background: #fff; }
        .btn-ai { background: var(--ai); color: white; border: none; padding: 7px 12px; border-radius: 4px; cursor: pointer; font-size: 11px; margin-bottom: 8px; font-weight: bold; }
        .btn-save { background: var(--success); color: white; padding: 15px; border: none; border-radius: 5px; width: 100%; font-size: 16px; cursor: pointer; font-weight: bold; margin-top: 25px; }
        .footer-btns { display: flex; gap: 10px; margin-top: 10px; }
        .btn-util { flex: 1; padding: 12px; border: none; border-radius: 5px; cursor: pointer; color: white; font-weight: bold; text-align: center; text-decoration: none; font-size: 14px; }
        .rph-table { width: 100%; border-collapse: collapse; margin-top: 40px; border: 2px solid #000; background: white; }
        .rph-table td { border: 1px solid #000; padding: 12px; vertical-align: top; font-size: 14px; color: black; }
        .label-cell { width: 200px; background: #f2f2f2; font-weight: bold; text-transform: uppercase; }
        @media print { .no-print { display: none; } }
    </style>
</head>
<body>
<div class="container no-print">
    <div class="header"><h1>RANCANGAN PENGAJARAN HARIAN</h1><p>ANDREW ARID | SK KEPANGIAN (BKD T3)</p></div>
    <div class="input-section">
        <div class="grid-flex">
            <div><label>Tarikh</label><input type="date" id="tark" onchange="setHari()"></div>
            <div><label>Hari</label><input type="text" id="hari" readonly></div>
            <div><label>Minggu</label><select id="mng"></select></div>
            <div><label>Masa</label><input type="text" id="masa" placeholder="08:30 - 09:30"></div>
        </div>
        <div><label>Unit / Tema</label><input type="text" id="tajuk" placeholder="Masukkan Unit"></div>
        <div style="margin-top:15px"><label>Kabaalan (Pilih satu atau lebih SP)</label>
            <select id="kem" onchange="loadSP()">
                <option value="Dengar">Mokinongou om Mimboros</option>
                <option value="Baca">Mambasa'</option>
                <option value="Tulis">Monuat</option>
                <option value="Seni">Kolumison Boros</option>
                <option value="Tata">Puralan Boros</option>
            </select>
        </div>
        <div class="sp-table-wrapper"><table class="sp-table" id="sp-table-body"></table></div>
        <div class="ai-grid">
            <div class="ai-box"><button class="btn-ai" onclick="janaAI('obj')">✨ JANA OBJEKTIF</button><textarea id="ai_obj" rows="4"></textarea></div>
            <div class="ai-box"><button class="btn-ai" onclick="janaAI('act')">✨ JANA AKTIVITI</button><textarea id="ai_act" rows="4"></textarea></div>
            <div class="ai-box"><button class="btn-ai" onclick="janaAI('ref')">✨ JANA REFLEKSI</button><textarea id="ai_ref" rows="4"></textarea></div>
        </div>
        <button class="btn-save" onclick="simpan()">SIMPAN RPH KE JADUAL</button>
        <div class="footer-btns">
            <button class="btn-util" style="background:#333" onclick="window.print()">CETAK PDF</button>
            <a href="index.html" class="btn-util" style="background:#7f8c8d">KEMBALI KE HUB</a>
        </div>
    </div>
</div>
<div id="output"></div>
<script>
const dataSP = {
    "Dengar": ["1.1.2 Mokinongou om popouni frasa/ayat.","1.2.1 Mokinongou om popouni kosubuton boros nuhutan.","1.3.1 Popointalang kointutunan tinaru."],
    "Baca": ["2.1.4 Mambasa' ayat i kisuat.","2.2.3 Mambasa' teks naratif.","2.3.1 Mambasa' om mamarati suang paboros."],
    "Tulis": ["3.1.3 Monuat ayat mija' pointunud.","3.2.2 Monuat frasa om ayat nuhutan.","3.3.1 Momonsoi draf ponuat kreatif."],
    "Seni": ["4.1.2 Momonsoi aktiviti kreatif.","4.3.2 Mencipta dialog mudah.","4.4.1 Mempersembahkan karya seni bahasa."],
    "Tata": ["5.1.1 Mongila boros ngaran.","5.2.1 Mongila boros maan.","5.3.1 Mongila boros adjektif."]
};
let selectedSPs = [];
const mS = document.getElementById('mng'); for(let i=1; i<=42; i++) mS.innerHTML += `<option value="${i}">Minggu ${i}</option>`;
function setHari() { let d = new Date(document.getElementById('tark').value); document.getElementById('hari').value = ['Ahad','Isnin','Selasa','Rabu','Khamis','Jumaat','Sabtu'][d.getDay()] || ''; }
function loadSP() {
    let k = document.getElementById('kem').value; let b = document.getElementById('sp-table-body'); b.innerHTML = "";
    selectedSPs = [];
    dataSP[k].forEach((s, i) => {
        let row = b.insertRow();
        row.onclick = function() { 
            if(this.classList.contains('selected-row')) {
                this.classList.remove('selected-row');
                selectedSPs = selectedSPs.filter(item => item !== s);
            } else {
                this.classList.add('selected-row');
                selectedSPs.push(s);
            }
        };
        row.innerHTML = `<td>${s}</td>`;
    });
}
loadSP();
function janaAI(t) {
    let tajuk = document.getElementById('tajuk').value || "Unit";
    if(selectedSPs.length === 0) return alert("Sila pilih sekurang-kurangnya satu SP!");
    if(t==='obj') document.getElementById('ai_obj').value = `Id kowopuson PdPc, tangaanak kaanu monguasai kabaalan kokomoi ${tajuk} munsandat do SP i pinili.`;
    else if(t==='act') document.getElementById('ai_act').value = `1. Set Induksi: Popointutun tajuk ${tajuk}.\n2. Aktiviti munsandat do kabaalan SP.\n3. Monuat id buku latihan.\n4. Ponutup.`;
    else document.getElementById('ai_ref').value = `___ / ___ tangaanak nakalantoi objektif pembelajaran.`;
}
function simpan() {
    if(selectedSPs.length === 0) return alert("Pilih SP!");
    let spList = selectedSPs.join("<br>");
    document.getElementById('output').innerHTML += `<table class="rph-table"><tr><td class="label-cell">INFO</td><td>MG ${document.getElementById('mng').value} | ${document.getElementById('tark').value} | ${document.getElementById('hari').value}</td></tr><tr><td class="label-cell">UNIT / MASA</td><td>${document.getElementById('tajuk').value} | ${document.getElementById('masa').value}</td></tr><tr><td class="label-cell">SP</td><td>${spList}</td></tr><tr><td class="label-cell">OBJEKTIF</td><td>${document.getElementById('ai_obj').value.replace(/\n/g,"<br>")}</td></tr><tr><td class="label-cell">AKTIVITI</td><td>${document.getElementById('ai_act').value.replace(/\n/g,"<br>")}</td></tr></table><br>`;
}
</script>
</body>
</html>